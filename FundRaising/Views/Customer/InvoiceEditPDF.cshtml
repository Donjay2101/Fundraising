@model FundRaising.Models.Order

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>InvoicePrint</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <meta name="viewport" content="width=device-width" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
   
    <link href="~/Content/custom.css" rel="stylesheet" />


    <style>
        p {
            font-size: 15px;
            font-weight: 500;
            color: #80776D;
        }

        h2 {
            color: #631716;
            font-weight: 600;
        }

        .display-label {
            color: #6D5656;
            width: 30%;
        }

        .leg {
            color: #631716 !important;
                font-weight: bolder;
        }

        h3 {
            color: #5D5B59;
            font-size: 22px;
            font-weight: bold;
        }

        .display-field {
            text-align: left;
            border: none !important;
            width: 50%;
            background-color: white !important;
        }
        .address{
                background: #E4E0E0;
        }
        div#partion {
    background: #E4E0E0;
    height: 20px;
    margin-top: 6px;
}
         div#top_part  {
    background: #E4E0E0;
    height: 20px;
    margin-top: 6px;
}
        /*.orderTable tr td,th{
            border :1px solid grey
        }*/

        
.datagrid table td, .datagrid table th { 
padding: 3px 10px; 
}
.datagrid table thead th {
background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #8C8C8C), color-stop(1, #7D7D7D) );
background:-moz-linear-gradient( center top, #8C8C8C 5%, #7D7D7D 100% );
filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#8C8C8C', endColorstr='#7D7D7D');
background-color:#8C8C8C; 
color:#FFFFFF; 
font-size: 15px; 
font-weight: bold; 
border-left: 1px solid #A3A3A3; 
} 
.datagrid table thead th:first-child {
 border: none; 
 }
 .datagrid table tbody td { 
 color: #0A0A0A; 
 border-left: 1px solid #DBDBDB;
 font-size: 15px;
 font-weight: normal; 
 }
 .datagrid table tbody .alt td { 
 background: #EBEBEB; 
 color: #7D7D7D; 
 }
 .datagrid table tbody td:first-child { 
 border-left: none; 
 }
 .datagrid table tbody tr:last-child td { border-bottom: none; }.datagrid table tfoot td div { border-top: 1px solid #8C8C8C;background: #EBEBEB;} .datagrid table tfoot td { padding: 0; font-size: 12px } .datagrid table tfoot td div{ padding: 2px; }.datagrid table tfoot td ul { margin: 0; padding:0; list-style: none; text-align: right; }.datagrid table tfoot  li { display: inline; }.datagrid table tfoot li a { text-decoration: none; display: inline-block;  padding: 2px 8px; margin: 1px;color: #F5F5F5;border: 1px solid #8C8C8C;-webkit-border-radius: 3px; -moz-border-radius: 3px; border-radius: 3px; background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #8C8C8C), color-stop(1, #7D7D7D) );background:-moz-linear-gradient( center top, #8C8C8C 5%, #7D7D7D 100% );filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#8C8C8C', endColorstr='#7D7D7D');background-color:#8C8C8C; }.datagrid table tfoot ul.active, .datagrid table tfoot ul a:hover { text-decoration: none;border-color: #7D7D7D; color: #F5F5F5; background: none; background-color:#8C8C8C;}div.dhtmlx_window_active, div.dhx_modal_cover_dv { position: fixed !important; }
    </style>

</head>
<body>
    <div class="container" style="margin: 0 auto;width: 90%;">
<div id="top_part">
</div>
        <div class="row" style="padding:20px;padding-bottom: 0px;">
            <div class="col-md-6">
                <p>
                    Dear  <b>@ViewBag.Name,</b>
                    <br />
                    Thankyou for supporting  <b>@ViewBag.School</b>
                    and  <b>@ViewBag.Student</b>.
                    <br />
                    <br />                  
                    Here is your receipt.
                </p>
            </div>
        </div>
        <div class="row text-center" style="text-align:center">
            <h2 style="margin:0">Order confirmation</h2>
            <h3 style="margin:0">@ViewBag.Distributor</h3>
            @if (@ViewBag.Organization != null)
            {
                <h4 style="margin:0">@ViewBag.Organization.Name</h4>
                <h4 style="margin:0">@ViewBag.Organization.Address1,@ViewBag.Organization.Address2,@ViewBag.Organization.City,@ViewBag.Organization.Postal</h4>
            }            
           <div id="partion"></div>
            <p style="font-weight:700;font-style:italic"> Thank you for your order</p>
        </div>
        <div class="row" style="padding-left:40px;padding-right:40px;">
            <p><b>Order #: @Model.ID</b></p>
            <p> Order Created at: @Model.CreatedDate</p>
        </div>
        <div  style="">
            <table style="margin:0 auto;width: 40%;">
                <tr>
                    <td>
                        FullName
                    </td>
                    <td>
                        <b>@string.Format("{0}",(Model.FirstName+" "+Model.LastName))</b>
                    </td>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayNameFor(model => model.PhoneNumber)
                    </td>
                    <td>
                        <b>
                            @Html.DisplayFor(model => model.PhoneNumber)
                        </b>
                        
                    </td>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayNameFor(model => model.EmailAddress)
                    </td>
                    <td>
                        <b>
                            @Html.DisplayFor(model => model.EmailAddress)
                        </b>
                       
                    </td>
                </tr>
            </table>
               
            </div>
       <br />
        <div >
            <div style="background: #fff7ec;padding:30px;border: 1px solid #DED8D8;width:42%;float:right;">
                <div class="address">
                    <label class="leg">Shipping Address</label>
                </div>

                <table>
                    <tr>
                        <td style="font-weight: 900;">
                            @Html.DisplayNameFor(model => model.SCountry)
                        </td>
                        <td>
                            @Html.DisplayFor(model => model.SCountry)
                        </td>
                    </tr>
                    @*<tr>
                    <td style="font-weight: 900;">
                        @Html.DisplayNameFor(model => model.SCompanyName)
                    </td>
                    <td>
                        @Html.DisplayFor(model => model.SCompanyName)
                    </td>
                </tr>*@
                    <tr>
                        <td style="font-weight: 900;">
                            @Html.DisplayNameFor(model => model.SAddress1)
                        </td>
                        <td>
                            @Html.DisplayFor(model => model.SAddress1)
                        </td>
                    </tr>
                    @if (Model.SAddress2 != null)
                    {
                        <tr>
                            <td style="font-weight: 900;">
                                @Html.DisplayNameFor(model => model.SAddress2)
                            </td>
                            <td>
                                @Html.DisplayFor(model => model.SAddress2)
                            </td>
                        </tr>
                    }
                    
                    <tr>
                        <td style="font-weight: 900;">
                            @Html.DisplayNameFor(model => model.SCity)
                        </td>
                        <td>
                            @Html.DisplayFor(model => model.SCity)
                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: 900;">
                            @Html.DisplayNameFor(model => model.SState)
                        </td>
                        <td>
                            @Html.DisplayFor(model => model.SState)
                        </td>
                    </tr>
                    <tr>
                        <td style="font-weight: 900;">
                            @Html.DisplayNameFor(model => model.SPostalCode)
                        </td>
                        <td>
                            @Html.DisplayFor(model => model.SPostalCode)
                        </td>
                    </tr>
                </table>
            </div>
            <div style="float:left;width:42%;background: #fff7ec;padding: 30px;border: 1px solid #DED8D8;">
                <div class="address">
                    <label class="leg">Billing Address</label>
                </div>
                   
                    <table>
                        <tr>
                            <td style="font-weight: 900;">
                               
                                    @Html.DisplayNameFor(model => model.Country)
                                
                            </td>
                            <td>
                                @Html.DisplayFor(model => model.Country)
                            </td>
                        </tr>
                        @*<tr>
                            <td style="font-weight: 900;">
                                @Html.DisplayNameFor(model => model.CompanyName)
                            </td>
                            <td>
                                @Html.DisplayFor(model => model.CompanyName)
                            </td>
                        </tr>*@
                        <tr>
                            <td style="font-weight: 900;">
                                @Html.DisplayNameFor(model => model.Address1)
                            </td>
                            <td>
                                @Html.DisplayFor(model => model.Address1)
                            </td>
                        </tr>
                        @if (Model.Address2 != null)
                        {
                            <tr>
                                <td style="font-weight: 900;">
                                    @Html.DisplayNameFor(model => model.Address2)
                                </td>
                                <td>
                                    @Html.DisplayFor(model => model.Address2)
                                </td>
                            </tr>
                        }
                       
                        <tr>
                            <td style="font-weight: 900;">
                                @Html.DisplayNameFor(model => model.City)
                            </td>
                            <td>
                                @Html.DisplayFor(model => model.City)
                            </td>
                        </tr>
                        <tr>
                            <td style="font-weight: 900;">
                                @Html.DisplayNameFor(model => model.State)
                            </td>
                            <td>
                                @Html.DisplayFor(model => model.State)
                            </td>
                        </tr>
                        <tr>
                            <td style="font-weight: 900;">
                                @Html.DisplayNameFor(model => model.PostalCode)
                            </td>
                            <td>
                                @Html.DisplayFor(model => model.PostalCode)
                            </td>
                        </tr>
                    </table>                                                                              
            </div>             
        </div>

        <br />
        <div class="datagrid" style="margin-top:15px">
            
    @if (Model.OrderList != null)
    {
       
        <table class="orderTable"  style="width:100%;text-align:center;border-bottom: 2px solid #B9B9B9;">
        <tr style="background-color:#B9B9B9">
            <th>Name</th>
            <th>QUANTITY</th>
            <th>PRICE</th>
            <th>SUBTOTAL</th>
        </tr>
           
        @if (Model.OrderList != null)
        {
            int chargeShipping = 0;
            var pCount = 0;
            double total_Amount = 0;
           
            foreach (var item in Model.OrderList)
            {
                var subtotal = item.Price * item.Quantity;
                var price = "price" + item.ID;
                var subtot = "subtotal" + item.ID;
                var link = "savelink" + item.ID;
                total_Amount += subtotal;
                if (item.chargeShipping)
                {
                    chargeShipping++;
                    pCount += item.Quantity;
                }
                <tr>
                    <td style="width:30%">
                        @item.Description
                    </td>
                    <td>
                        <span id="@price">@item.Quantity</span>
                    </td>
                    <td>
                        <span id="@price">@String.Format("{0:C}", Convert.ToInt32(item.Price))</span>
                    </td>
                    <td>
                        <span id="@subtot">@String.Format("{0:C}", Convert.ToInt32(subtotal))</span>
                    </td>
                </tr>
            }
        }
        </table>
        if(Model.OSummary!=null)
        {
            
        
            <div class="row" style="text-align: right; padding-right: 7px; margin-top: 10px;height:inherit">
                &nbsp; <b class="leg">Shipping Amount: </b>&nbsp;&nbsp;&nbsp; @String.Format("{0:C}", Model.OSummary.ShippingAmount)
                <br />
                &nbsp; <b class="leg">Sales Tax: </b>&nbsp;&nbsp;&nbsp; @String.Format("{0:C}", Model.OSummary.SalesTax)
                <br />
                <b class="leg">Total Payable: </b>&nbsp;&nbsp;&nbsp; @String.Format("{0:C}", Model.OSummary.TotalPayable)
            </div>
        }
    }
        <span style="color:red"> *The Order will be delivered by @ViewBag.Student.</span>
        </div>
        <hr style="margin-bottom: 50px;" />
        </div>

   

  
</body>
</html>

