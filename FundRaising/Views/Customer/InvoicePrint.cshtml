@model FundRaising.Models.Order

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>InvoicePrint</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <meta name="viewport" content="width=device-width" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link href='https://fonts.googleapis.com/css?family=Raleway:500,600,700' rel='stylesheet' type='text/css'>
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/SyntaxHighlighter/shCore.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Gridmvc.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/gridmvc.datepicker.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.structure.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.structure.min.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.theme.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/jquery-ui.theme.min.css" rel="stylesheet" />
    <!-- SCRIPTS -->
    <script src="~/Scripts/jquery-2.1.4.min.js" type="text/javascript"> </script>
    <script src="~/Scripts/jquery-ui.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/main.js" type="text/javascript"> </script>

   

   
    <!-- referencing datepicker control -->
    <script src="~/Scripts/bootstrap-datepicker.js"></script>
    <!-- Locale datepicker scripts ( get more on https://github.com/bukharin/bootstrap-datepicker/tree/master/js/locales )-->
    <script src="~/Scripts/bootstrap-datepicker.ru.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>
    <link href="~/Content/custom.css" rel="stylesheet" />


<style>
    p{
     font-size: 15px;
    font-weight: 500;
    color: #80776D;
    }
    h2 {
    color: #631716;
    font-weight: 600;
    font-size: 22px;
    padding-bottom: 6px;
    padding-top: 6px;
}
    .display-label{
        color:#6D5656;
        width: 30%;
        line-height: 30px;
    }
    .leg
    {
       color: #631716!important;
    background: #CAC8C8;
    text-align: center;
        font-size: 17px;
            margin-bottom: 0px;
    }
    h3 {
    color: #5D5B59;
    font-size: 16px;
    font-weight: bold;
    margin-top: 0px;
}
   .display-field {
    text-align: left;
    border: none!important;
    width: 65%;
    background-color: white!important;
    word-wrap: break-word;
}
    h4 {
    font-size: 14px;
}
</style>
  
</head>
<body>
    <div class="container" style="width:1000px;">
        <div class="row" style="padding:40px;padding-bottom: 0px;padding-top:10px;">
            <h2 class="text-center" style=" margin-top: 0px;background: gainsboro;">Order confirmation</h2>
            <div class="col-md-6">
                <p>
                    Dear  <b>@ViewBag.Name:</b> 
                    <br />
                    Thankyou
                    <br />
                    for supporting  <b>@ViewBag.School</b> 
                    and  <b>@ViewBag.Student</b>
                    <br />
                    Here is your receipt.
                </p>
            </div>
            <div class="col-md-6 text-right">
               <h3>School Name And Address</h3>
                <h4>@ViewBag.Distributor</h4>
                <h4>@ViewBag.Organization.Name</h4>
                <h4>@ViewBag.Organization.Address1,@ViewBag.Organization.Address2,@ViewBag.Organization.City,@ViewBag.Organization.Postal</h4>
            </div>
        </div>
        <div class="row text-center">                          
            <hr style="margin-top: 0px;margin-bottom: 10px;"/>
        </div>
        <div class="row" style="padding-left:40px;padding-right:40px;">
         
        </div>
        <div class="row" style="padding-left:40px;padding-right:40px;">
          
         
        </div>
       
        <div class="row" style="padding:40px;padding-top: 0px;padding-bottom: 0px;display:flex;">

            <div class="col-md-4" style=" border: 1px solid #EFEBEB;">
                <p class="text-center"> Thank you for your order</p>
                <p><b>Order#: @Model.ID</b></p>
                <p> Order Created at: @Model.CreatedDate</p>
                <div class="display-label">
                    @Html.DisplayNameFor(model => model.FullName)
                </div>
                <div class="display-field">
                    @string.Format("{0}", (Model.FirstName + " " + Model.LastName))
                </div>

                <div class="display-label">
                    @Html.DisplayNameFor(model => model.PhoneNumber)
                </div>
                <div class="display-field">
                    @Html.DisplayFor(model => model.PhoneNumber)
                </div>
                <div class="display-label">
                    @Html.DisplayNameFor(model => model.EmailAddress)
                </div>
                <div class="display-field">
                    @Html.DisplayFor(model => model.EmailAddress)
                </div>
            </div>
            <div class="col-md-4" style=" padding-bottom: 10px;">
                <fieldset>
                    <legend class="leg">Billing Address</legend>
                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.Country)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.Country)
                        </div>
                    </div>

                    @*<div class="display-label">
                    @Html.DisplayNameFor(model => model.CompanyName)
                </div>
                <div class="display-field">
                    @Html.DisplayFor(model => model.CompanyName)
                </div>*@
                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.Address1)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.Address1)
                        </div>
                    </div>

                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.Address2)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.Address2)
                        </div>
                    </div>

                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.City)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.City)
                        </div>
                    </div>
                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.State)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.State)
                        </div>
                    </div>

                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.PostalCode)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.PostalCode)
                        </div>
                    </div>
                </fieldset>
            </div>

            <div class="col-md-4" style=" padding-bottom: 10px;">
                <fieldset>
                    <legend class="leg">Shipping Address</legend>
                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.SCountry)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.SCountry)
                        </div>
                    </div>
                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.SAddress1)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.SAddress1)
                        </div>

                    </div>
                    <div class="row row-without-margin">

                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.SAddress2)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.SAddress2)
                        </div>
                    </div>
                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.SCity)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.SCity)
                        </div>
                    </div>
                    <div class="row row-without-margin">
                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.SState)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.SState)
                        </div>
                    </div>
                    <div class="row row-without-margin">

                        <div class="display-label">
                            @Html.DisplayNameFor(model => model.SPostalCode)
                        </div>
                        <div class="display-field">
                            @Html.DisplayFor(model => model.SPostalCode)
                        </div>
                    </div>
                

                    @*<div class="display-label">
                        @Html.DisplayNameFor(model => model.SCompanyName)
                    </div>
                    <div class="display-field">
                        @Html.DisplayFor(model => model.SCompanyName)
                    </div>*@
                </fieldset>
            </div>
        </div>


        <div class="row" style="padding:40px;padding-top: 0px;">
            @if (Model.OrderList != null)
            {

                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="row" style="background: #CAC8C8; color: dimgrey; font-size: 15px;text-align:center">
                        <div class="col-md-4 col-sm-4 col-xs-3" style="border-right:1px solid #E8E4E4">
                            PRODUCT
                        </div>
                        <div class="col-md-2 col-sm-2 col-xs-3" style="border-right:1px solid #E8E4E4">
                            QUANTITY
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-3" style="border-right:1px solid #E8E4E4">
                            PRICE
                        </div>
                        <div class="col-md-2 col-sm-2 col-xs-2" style="">
                            SUBTOTAL
                        </div>
                    </div>
                    @if (Model.OrderList != null)
                    {
                        int chargeShipping = 0;
                        var pCount = 0;
                        double total_Amount = 0;
                        double ShippingCharge = 0;
                        bool shiptoschool = false;
                        double amount = 0;
                        foreach (var item in Model.OrderList)
                        {
                            var subtotal = item.Price * item.Quantity;
                            var price = "price" + item.ID;
                            var subtot = "subtotal" + item.ID;
                            var link = "savelink" + item.ID;
                            total_Amount += subtotal;
                            if (item.chargeShipping)
                            {
                                chargeShipping++;
                                pCount += item.Quantity;
                            }
                            <div class="row" style="border-bottom: 1px solid #E8E4E4;height:50px">

                                <div class="col-md-4 col-sm-4 col-xs-3" style="border-right:1px solid #E8E4E4;height:inherit;padding-top: 11px;">
                                    @item.Description
                                </div>
                                <div class="col-md-2 col-sm-2 col-xs-3" style="border-right:1px solid #E8E4E4;text-align:center;height:inherit;padding-top: 11px;">
                                    <span id="@price">@item.Quantity</span>
                                    @*<input type="number" value="@item.Quantity" name="@item.ID" style="margin-bottom:0;text-align: center;" id="Quantity" class="quantity" /> <br />*@
                                </div>
                                <div class="col-md-1 col-sm-2 col-xs-3" style="border-right:1px solid #E8E4E4;text-align: center;height:inherit;padding-top: 11px;">
                                    <span id="@price">@String.Format("{0:C}", Convert.ToInt32(item.Price))</span>
                                </div>
                                <div class="col-md-2 col-sm-2 col-xs-2" style="text-align:center;height:inherit;padding-top: 11px;">
                                    <span id="@subtot">@String.Format("{0:C}", Convert.ToInt32(subtotal))</span>
                                </div>
                            </div>
                        }
                        if (Model.OSummary != null)
                        {
                            <div class="portion">
                                <div >
                                    <div class="col-md-11 text-right">
                                        <b>SubToal :</b>
                                    </div>
                                    <div class="col-md-1 text-center">
                                        <span>@String.Format("{0:C}", Model.OSummary.TotalAmount)</span>
                                    </div>
                                </div>
                                <div class="total-pay">

                                    <div class="col-md-11 text-right"><b>(@ViewBag.State residents add @ViewBag.SalesTaxCharge%)sales tax:</b></div>
                                    <div class="col-md-1 text-center"><span>@string.Format("{0:C}", Model.OSummary.SalesTax)</span></div>                                   
                                </div>


                                <div class="shipping-chrg total-pay">
                                    <div class="col-md-11 text-right"><b>Shipping Charge:</b></div>
                                    @if (shiptoschool)
                                    {
                                        <div class="col-md-1 text-center"><span>@String.Format("{0:C}", 0)</span></div>
                                    }
                                    else
                                    {
                                        <div class="col-md-1 text-center"><span>@String.Format("{0:C}", Model.OSummary.ShippingAmount)</span></div>
                                    }


                                </div>
                                <hr style="margin-bottom: 0px;"/>
                                <div class="total-pay" style="padding-top: 0px;">
                                    <div class="col-md-11 text-right"><b>Total Payable:</b></div>
                                    <div class="col-md-1 text-center"><span>@String.Format("{0:C}",Model.OSummary.TotalPayable)</span></div>
                                </div>
                                <br />
                                                                                              
                            </div>
                        }



                    }
                </div>
            }

        </div>

    </div>
</body>
</html>
