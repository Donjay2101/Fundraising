<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>@ViewBag.Title - My ASP.NET MVC Application</title>
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <meta name="viewport" content="width=device-width" />
    @Scripts.Render("~/bundles/jquery")
    <script src="~/Scripts/jquery-ui.min.js"></script>
    <script src="~/Scripts/moment.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    @*<script src="~/Scripts/bootstrap-datepicker.js"></script*@
    @*<link href="~/Content/bootstrap-datepicker.css" rel="stylesheet" />*@
    <script src="~/jquery.datepick.package/jquery.plugin.js"></script>
    <script src="~/jquery.datepick.package/jquery.datepick.js"></script>
    <link href="~/jquery.datepick.package/jquery.datepick.css" rel="stylesheet" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")


    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/SyntaxHighlighter/shCore.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/Gridmvc.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/gridmvc.datepicker.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.structure.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.structure.min.css" rel="stylesheet" />
    <link href="~/Content/jquery-ui.theme.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/jquery-ui.theme.min.css" rel="stylesheet" />

    <!-- SCRIPTS -->


    <script src="~/Scripts/main.js" type="text/javascript"> </script>
    <script src="~/Scripts/SyntaxHighlighter/shCore.js"></script>
    <script src="~/Scripts/SyntaxHighlighter/shBrushCSharp.js"></script>
    <script src="~/Scripts/SyntaxHighlighter/shBrushCss.js"></script>
    <script src="~/Scripts/SyntaxHighlighter/shBrushJScript.js"></script>
    <script src="~/Scripts/SyntaxHighlighter/shBrushRazor.js"></script>


    @*<link rel="stylesheet" href="/Content/bootstrap-datetimepicker.css" />*@
    <script src="~/Scripts/gridmvc.js" type="text/javascript"> </script>
    <script src="~/Scripts/gridmvc.lang.ru.js" type="text/javascript"> </script>
    <script src="~/Scripts/gridmvc.lang.fr.js" type="text/javascript"> </script>
    <script src="~/Scripts/gridmvc.customwidgets.js" type="text/javascript"> </script>
    <!-- referencing datepicker control -->

    <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>
    <link href="~/Content/custom.css" rel="stylesheet" />

    <script src="~/Scripts/ShowImageonHover_Script.js"></script>
    <script src="~/Scripts/brochure.js"></script>
    <script src="~/Scripts/Product.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <script src="~/Scripts/Common.js"></script>
    <script src="~/Scripts/tinymce/tinymce.min.js"></script>
    <script src="~/Scripts/Category.js"></script>
    <script src="~/Scripts/Organization.js"></script>

    <script src="~/Scripts/accounting.min.js"></script>
    @*<script src="~/Scripts/tiny.editor.packed.js"></script>*@

    <script src="~/Scripts/tinyeditor.js"></script>
    <script src="~/Scripts/ShippingChargeJS.js"></script>
    <style>
        div.fileinputs {
            position: relative;
        }

        div.fakefile {
            position: absolute;
            top: 0px;
            left: 0px;
            z-index: 1;
        }

        input.file {
            position: relative;
            text-align: right;
            -moz-opacity: 0;
            filter: alpha(opacity: 0);
            opacity: 0;
            z-index: 2;
        }
    </style>
    <script type="text/javascript">
   

        function goBack() {
            window.history.back();
        }
    </script>
    <script type="text/javascript">
        $(document).ready(function () {

            new TINY.editor.edit('editor', {
                id: 'input',
                width: 584,
                height: 175,
                cssclass: 'te',
                controlclass: 'tecontrol',
                rowclass: 'teheader',
                dividerclass: 'tedivider',
                controls: ['bold', 'italic', 'underline', 'strikethrough', '|', 'subscript', 'superscript', '|',
                          'orderedlist', 'unorderedlist', '|', 'outdent', 'indent', '|', 'leftalign',
                          'centeralign', 'rightalign', 'blockjustify', '|', 'unformat', '|', 'undo', 'redo', 'n',
                          'font', 'size', 'style', '|', 'image', 'hr', 'link', 'unlink', '|', 'cut', 'copy', 'paste', 'print'],
                footer: true,
                fonts: ['Verdana', 'Arial', 'Georgia', 'Trebuchet MS'],
                xhtml: true,
                cssfile: '/Content/custom.css',
                bodyid: 'editor',
                footerclass: 'tefooter',
                toggle: { text: 'show source', activetext: 'show wysiwyg', cssclass: 'toggle' },
                resize: { cssclass: 'resize' }
            });
            var _URL = window.URL || window.webkitURL;

            $("#file").change(function (e) {
                var file, img;

                //alert('hello');
                if ((file = this.files[0])) {
                    img = new Image();

                    img.onload = function () {
                        //alert(this.width + " " + this.height);
                        debugger;
                        if ((file.size >= 153600) && (img.width >= 150 && img.height >= 150)) {
                            alert('Image should be (150 X 150) in dimension and below 150KB in size.');
                            document.getElementById("file").value = "";
                        }
                    };
                    img.src = _URL.createObjectURL(file);
                }

            });
        });

        function getData() {
            debugger;
            var type = $('#ProductType').val();
            var count = 0;
            if (type == 2) {
                $('#FundTrackerPrice').val(0);
                $('#ItemNumber').val(0);
                $('#CustomerRetailPrice').val(0);

                var issue1 = $('#Issue1').val();
                if (check(issue1)) {
                    $('#Issue1').parent().find('.error').css('display', 'block');
                    count++;
                }
                var issue2=$('#Issue2').val();
                if (check(issue2)) {
                    $('#Issue2').parent().find('.error').css('display', 'block');
                    count++;
                }
                var issue3 = $('#Issue3').val();
                if (check(issue3)) {
                    $('#Issue3').parent().find('.error').css('display', 'block');
                    count++;
                }
                var issue4 = $('#Issue4').val();
                if (check(issue4)) {
                    $('#Issue4').parent().find('.error').css('display', 'block');
                    count++;
                }
                var price1 = $('#Price1').val();
                if (check(price1)) {
                    $('#Price1').parent().find('.error').css('display', 'block');
                    count++;
                }
                var price2=$('#Price2').val();
                if (check(price2)) {
                    $('#Price2').parent().find('.error').css('display', 'block');
                    count++;
                }
                var price3 = $('#Price3').val();
                if (check(price3)) {
                    $('#Price3').parent().find('.error').css('display', 'block');
                    count++;
                }
                var price4 = $('#Price4').val();
                if (check(price4)) {
                    $('#Price4').parent().find('.error').css('display', 'block');
                    count++;
                }
                var ItemNumber1 = $('#ItemNumber1').val();
                if (check(ItemNumber1)) {
                    $('#ItemNumber1').parent().find('.error').css('display', 'block');
                    count++;
                }
                var ItemNumber2 = $('#ItemNumber2').val();
                if (check(ItemNumber2)) {
                    $('#ItemNumber2').parent().find('.error').css('display', 'block');
                    count++;
                }
                var ItemNumber3 = $('#ItemNumber3').val();
                if (check(ItemNumber3)) {
                    $('#ItemNumber3').parent().find('.error').css('display', 'block');
                    count++;
                }
                var ItemNumber4 = $('#ItemNumber4').val();
                if (check(ItemNumber4)) {
                    $('#ItemNumber4').parent().find('.error').css('display', 'block');
                    count++;
                }
                if (count > 0)
                {
                    return false;
                }
                var priceList = [];
                var obj = {};

                obj.Issue = issue1;
                obj.price = price1;
                obj.ItemNumber = ItemNumber1;
                priceList.push(obj);
                obj = {};
                obj.Issue = issue2;
                obj.price = price2;
                obj.ItemNumber = ItemNumber2;
                priceList.push(obj);
                obj = {};

                obj.Issue = issue3;
                obj.price = price3;
                obj.ItemNumber = ItemNumber3;
                priceList.push(obj);
                obj = {};
                obj.Issue = issue4;
                obj.price = price4;
                obj.ItemNumber = ItemNumber4;
                priceList.push(obj);
                if (priceList.length <= 0)
                {
                    alert('price issues are not updated.');
                    return false;
                }
                $('#MagazinePrice').val(JSON.stringify(priceList));

            }

            
            var div = document.getElementsByClassName("toggle");
            div[0].click();

            return true;
            // $("#input").html(TINY.editor.edit.prototype.toggle(0,div[0]));
            //alert(TINY.editor.edit.prototype.toggle(0,div[0]));
            //console.log(TINY.editor.edit.prototype.toggle(0,div[0]));
            //return false;
        }

    </script>

    <script type="text/javascript">

        //// Initialize your tinyMCE Editor with your preferred options
        //tinyMCE.init({
        //    // General options
        //    mode: "textareas",
        //    theme: "modern",
        //    // Theme options
        //    theme_advanced_buttons1: "save,newdocument,|,bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect",
        //    theme_advanced_buttons2: "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,help,code,|,insertdate,inserttime,preview,|,forecolor,backcolor",
        //    theme_advanced_buttons3: "tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,emotions,iespell,media,advhr,|,print,|,ltr,rtl,|,fullscreen",
        //    theme_advanced_buttons4: "insertlayer,moveforward,movebackward,absolute,|,styleprops,spellchecker,|,cite,abbr,acronym,del,ins,attribs,|,visualchars,nonbreaking,template,blockquote,pagebreak,|,insertfile,insertimage",
        //    theme_advanced_toolbar_location: "top",
        //    theme_advanced_toolbar_align: "left",
        //    theme_advanced_statusbar_location: "bottom",
        //    theme_advanced_resizing: true,

        //    // Example content CSS (should be your site CSS)
        //    content_css: "css/example.css",
        //});





        ////////////////////////////////////////
        WebFontConfig = {
            google: { families: ['Abel::latin'] }
        };
        (function () {
            var wf = document.createElement('script');
            wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
              '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
            wf.type = 'text/javascript';
            wf.async = 'true';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(wf, s);
        })(); </script>

    <script>
        function gotoPrevious(currentUrl) {
            var url = window.location.href;

            var splitData = url.split('/');
            var returnUrl = "";
            var count = 0;
            for (i = 0; i < url.length; i++) {
                if (url[i] == '/') {
                    count++;
                }
                if (count == 3) {
                    break;
                }
            }

            returnUrl = url.substring(i, url.length);
            //alert(returnUrl);
            if (currentUrl.indexOf('?') > 0) {
                currentUrl += "&returnUrl=" + returnUrl;
            }
            else {
                currentUrl += "?returnUrl=" + returnUrl;
            }
            window.location.href = currentUrl;
            //alert(returnUrl);
        }
    </script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">    
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
    <script>
        $(".date").datepicker();
    </script>
</head>
<body>
    <div id="loader" style="position: fixed;
    height: 100%;
    width: 100%;
    background: rgba(0, 0, 0, 0.529412);
    z-index: 99999;
    text-align: center;
    padding-top: 20%;display:none">
        <div id="laadingImage" style="text-align: center;">
            <img src="~/Images/loading.gif" style="height: 63px; width: 63px;" />
        </div>
    </div>

    <div id="w" style="min-height:744px">
        <div id="top" class="container-fluid">
            <div class="container">
                <div class=" logos">
                    <p class="site-title">@Html.ActionLink("your logo here", "Index", "Home")</p>
                </div>
                <div class="moon-out" style="float:right;color:white;">
                    @Html.Partial("_LoginPartial")
                    @*Hello,@Html.ActionLink(User.Identity.Name, "Manage", "Account", routeValues: null, htmlAttributes: new { @class = "username", title = "Manage" })<span class="marg_v">|</span>
                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm" }))
                        {
                            @Html.AntiForgeryToken()
                            <a href="javascript:document.getElementById('logoutForm').submit()">Log off</a>
                        }*@

                </div>
            </div>

        </div>
        <header>
            <div class="container-fluid">
                <nav class="navbar" style="margin-top: 20px;">
                    @*<div class="content-wrapper container">*@

                    <div class=" menu row">
                        <div class="col-md-1"></div>
                        <div class="col-md-10">
                            <section id="login">
                                <ul class="menu" id="menu" style="height: 48px; line-height: 2.5;border-top: 1px inset rgba(237, 237, 237, 0.17);border-bottom: 1px inset;border-left: 1px solid #E8E2E2;border-right: 1px solid #E8E2E2;margin:0 auto;background-color: #D9ECD9;">
                                    <li>@Html.ActionLink("Product", "Index", "Product")</li>
                                    <li>@Html.ActionLink("Category", "Index", "Category")</li>
                                    <li>
                                        @Html.ActionLink("Brochures", "Index", "Brochure")
                                        @*@if (Request.IsAuthenticated)
                                            {
                                                <ul id="submenu">
                                                    <li><a href="#" onclick="getBrochures('3')">Move Products</a></li>
                                                </ul>
                                            }*@
                                    </li>
                                    <li>@Html.ActionLink("Distributor", "Index", "Distributor")</li>
                                    <li>@Html.ActionLink("School", "Index", "Organization")</li>
                                    <li>@Html.ActionLink("Student", "Students", "Distributor", routeValues: null, htmlAttributes: new { id = "registerLink" })</li>                                    
                                    <li>@Html.ActionLink("Orders", "Index", "Order")</li>
                                    <li><a href="#" onclick="openShippingChargeForm()">Shipping Charge</a></li>
                                    <li><a href="#" onclick="openSalesTaxAddForm()">Sales Tax</a></li>
                                    <li><a href="#" onclick="openOrderDownLoadForm()">Download Orders</a></li>
                                    <li>@Html.ActionLink("Coupons", "Index", "Coupon")</li>
                                    <li>@Html.ActionLink("Reports", "Index", "Reports")</li>
                                </ul>

                            </section>
                        </div>
                        <div class="col-md-1"></div>


                    </div>
                </nav>
            </div>

        </header>
        <div>
            @*@RenderSection("featured", required: false)*@

            <div class="container" id="DemoDiv" style="width: 100%;height: 60px;background-color: transparent;">
                <h2 class="row text-center h2_margin">@ViewBag.Title</h2>
            </div>
            <div id="sitemap" style="width:87%;height:30px;margin-left: 87px;line-height: 2;padding-left: 6px;">
            </div>
            <section class="content-wrapper main-content clear-fix">
                <span style="color:red">@ViewBag.error</span>

                @RenderBody()
            </section>
        </div>
        <div id="overlayw" style="display:none; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(128, 128, 128, 0.52);z-index: 9999;position: fixed;">
            @*<form action="Brochure/mapping" method="post">*@
            <div id='Containerw'>

            </div>

            @*</form>*@
        </div>
    </div>
    <footer>
        <div>
            <div>
                <p style="float:left">&copy; @DateTime.Now.Year - My ASP.NET MVC Application</p>
                <p style="float:right;color:white"> Developed by: <a style=" color:white;" href="www.infodatix.com">www.Infodatix.com</a></p>
            </div>
        </div>
    </footer>


    @RenderSection("scripts", required: false)


    @if (@ViewBag.BrochureID != null)
    {
        <input type="hidden" id="HiddenBrochureID" value="@ViewBag.BrochureID" />
    }
    @if (@ViewBag.BrochureName != null)
    {
        <input type="hidden" id="HiddenBrochureName" value="@ViewBag.BrochureName" />
    }
    @if (@ViewBag.CategoryID != null)
    {
        <input type="hidden" id="HiddenCategoryID" value="@ViewBag.CategoryID" />
    }
    @if (@ViewBag.CategoryName != null)
    {
        <input type="hidden" id="HiddenCategoryName" value="@ViewBag.CategoryName" />
    }
</body>
</html>
